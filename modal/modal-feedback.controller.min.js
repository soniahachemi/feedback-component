"use strict";angular.module("feedback.createFeedback").controller("modalCreateFeedbackCtrl",function(e,s,c,t,n,a,o){var r=this;r.app_version=a,r.app_name=o,r.message="",r.type="bug",r.screenshot,r.screenshotFile,r.screenshotDef,r.url=n.absUrl(),html2canvas([document.body],{onrendered:function(e){r.screenshotDef=e.toDataURL(),r.screenshot=r.screenshotDef}}),r.close=function(){s.close()},r.cancel=function(){s.dismiss("cancel")},r.getSelectedFile=function(){return $("#selectedFile").val()},r.submitFeedback=function(){c.submitFeedback({message:r.message,screenshot:r.screenshot,url:r.url,app_version:a,app_name:o,type:r.type}).then(function(e){r.close(),t.success("Feedback submited successfully - id : "+e)})}});
